---
import { Image } from "astro:assets";
import profileImg from "../assets/profile.jpg";
---

<section id="profile" aria-label="Perfil de Sebastian Diez">
    <Image
        src={profileImg}
        alt="Foto de perfil de Sebastian Diez - Desarrollador de Software"
        class="avatar"
        width={150}
        height={150}
        loading="eager"
        draggable="false"
        oncontextmenu="return false"
    />
    <h1>Sebastian Diez</h1>
    <div class="role">
        <span class="text-part left">Desarrollador</span>
        <span class="text-part right">&nbsp;de Software</span>
    </div>
    <p class="bio" id="bio-text"></p>
    <div class="email-container">
        <input
            type="text"
            value="sedzdev@gmail.com"
            readonly
            class="email-input"
            aria-label="Correo electrónico"
        />
        <a
            href="mailto:sedzdev@gmail.com"
            class="contact-btn"
            rel="noopener noreferrer"
        >
            <img
                width="20"
                height="20"
                src="https://img.icons8.com/ios-filled/FFFFFF/gmail-new.png"
                alt="Icono de Gmail"
                loading="eager"
                draggable="false"
                oncontextmenu="return false"
                class="no-copy"
            />
            Contactar
        </a>
    </div>
    <nav class="social-links" aria-label="Redes sociales">
        <a
            href="https://github.com/sedzz"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="Ver perfil de GitHub de Sebastian Diez"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="currentColor"
                role="img"
                aria-label="GitHub"
                ><path
                    d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                ></path></svg
            >
        </a>
        <a
            href="https://twitter.com/sedzdev"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="Ver perfil de Twitter de Sebastian Diez"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="currentColor"
                role="img"
                aria-label="Twitter"
                ><path
                    d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"
                ></path></svg
            >
        </a>
    </nav>
</section>

<style>
    @import url("https://fonts.googleapis.com/css2?family=Fugaz+One&family=Roboto:wght@300;400;500&display=swap");

    #profile {
        position: relative;
        z-index: 1;
        padding: 20%;
        background-clip: content-box;
        height: 100%;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: flex-start;
        text-align: left;
        font-family: "Roboto", sans-serif;
        border-radius: 20px;
    }

    .avatar {
        width: 150px;
        height: 150px;
        max-width: 150px;
        max-height: 150px;
        min-width: 150px;
        min-height: 150px;
        border-radius: 50%;
        object-fit: cover;
        border: 4px solid #a8b2d1;
        margin-bottom: 1rem;
        flex-shrink: 0;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        -webkit-user-drag: none;
        pointer-events: none;
    }

    h1 {
        margin: 0;
        font-size: 3rem;
        color: #fff;
        font-family: "Fugaz One", cursive;
        background: linear-gradient(90deg, #a8b2d1, #64ffda, #a8b2d1) -100%/
            200%;
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        animation: shimmer 3s linear infinite;
    }

    @keyframes shimmer {
        to {
            background-position: 100%;
        }
    }

    .role {
        display: flex;
        color: #acacac;
        font-size: 1.5rem;
        margin: 0.5rem 0;
        font-family: "Fugaz One", cursive;
        overflow: hidden;
    }

    .text-part {
        display: inline-block;
        animation-duration: 1.5s;
        animation-timing-function: ease-out;
        animation-fill-mode: forwards;
    }

    .text-part.left {
        transform: translateX(-200%);
        animation-name: slide-in-left;
    }

    .text-part.right {
        transform: translateX(200%);
        animation-name: slide-in-right;
    }

    @keyframes slide-in-left {
        0% {
            transform: translateX(-200%);
        }
        100% {
            transform: translateX(0);
        }
    }

    @keyframes slide-in-right {
        0% {
            transform: translateX(200%);
        }
        100% {
            transform: translateX(0);
        }
    }

    .bio {
        color: #a8b2d1;
        font-size: 1.2rem;
        line-height: 1.5;
        max-width: 300px;
        min-height: 3em;
    }

    .bio::after {
        content: "|";
        animation: blinkingCursor 500ms infinite;
    }

    .bio.done::after {
        display: none;
    }

    .email-container {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-top: 0.5rem;
        background: #fff;
        padding: 0.5rem 1rem;
        border-radius: 8px;
        opacity: 0;
        transform: translateY(-10px);
        transition:
            opacity 1s ease,
            transform 1s ease;
    }

    .email-container.visible {
        opacity: 1;
        transform: translateY(0);
    }

    .email-input {
        background: transparent;
        border: none;
        color: #5d6069;
        font-size: 1.1rem;
        font-family: "Roboto", sans-serif;
        outline: none;
        cursor: default;
        width: auto;
    }

    .contact-btn {
        display: flex;
        align-items: center;
        gap: 0.4rem;
        background: #5d6069;
        color: #fff;
        padding: 0.4rem 1rem;
        border-radius: 6px;
        text-decoration: none;
        font-size: 0.85rem;
        font-weight: 500;
        transition: background 0.3s ease;
    }

    .contact-btn:hover {
        background: #8892b0;
    }

    @keyframes blinkingCursor {
        0%,
        100% {
            opacity: 1;
        }
        50% {
            opacity: 0;
        }
    }

    .social-links {
        display: flex;
        gap: 1rem;
        margin-top: 1rem;
    }

    .social-links a {
        color: #8892b0;
        transition:
            color 0.3s ease,
            transform 0.3s ease;
    }

    .social-links a:hover {
        color: #64ffda;
        transform: scale(1.2);
    }

    .no-copy,
    .social-links a svg {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        -webkit-user-drag: none;
        pointer-events: none;
    }

    .social-links a {
        pointer-events: auto;
    }
</style>

<script>
    const text =
        "Desarrollador de Software con más de dos años de experiencia, especializado en diseñar e implementar soluciones personalizadas para empresas, negocios y particulares; abierto a nuevas propuestas y desafíos profesionales.";
    const bioElement = document.getElementById("bio-text");
    const emailContainer = document.querySelector(".email-container");
    let index = 0;

    function typeWriter() {
        if (bioElement && emailContainer) {
            if (index < text.length) {
                bioElement.textContent += text.charAt(index);
                index++;
                setTimeout(typeWriter, 20);
            } else {
                bioElement.classList.add("done");
                emailContainer.classList.add("visible");
            }
        }
    }

    setTimeout(typeWriter, 1000);
</script>
